<% owner = organization || user %>

<!-- Profile Header -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
  <!-- Profile Info -->
  <div class="lg:col-span-2">
    <div class="flex items-start gap-6 mb-6">
      <div class="relative">
        <img
          src="<%= owner.avatar_url %>"
          alt="<%= namespace.name %>"
          class="
            w-24 h-24 rounded-full border-4 border-primary bg-primary
            shadow-sm
          "
        >
        <div
          class="
            absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 border-2
            border-primary rounded-full
          "
        ></div>
      </div>
      <div class="flex-1">
        <div class="mb-4">
          <h1 class="text-3xl font-bold text-primary mb-1">
            <%= namespace.name %>
          </h1>
          <p class="text-lg text-secondary">@<%= namespace.name %></p>
        </div>

        <% if owner.bio %>
          <div
            class="
              text-secondary mb-4 leading-relaxed prose prose-sm prose-stone
              dark:prose-invert max-w-none
            "
          >
            <%= owner.bio %><%#= markdown_to_html(owner.bio) %>
          </div>
        <% end %>

        <div class="flex items-center gap-6 text-sm text-secondary">
          <% if owner.email_address %>
            <div class="flex items-center gap-2">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 16 16">
                <path
                  d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"
                />
              </svg>
              <span><%= owner.email_address %></span>
            </div>
          <% end %>
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 16 16">
              <path
                d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"
              />
            </svg>
            <span class="text-primary font-semibold"><%= 0 %></span>
            <span>repositories</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex items-center gap-3">
      <% if false # TODO: Come back %>
        <button
          class="px-5 py-2.5 text-sm font-semibold bg-stone-800 text-white rounded-lg hover:bg-stone-700 transition-all duration-200 shadow-sm hover:shadow-md"
        >
          Follow
        </button>
        <button
          class="px-5 py-2.5 text-sm font-semibold text-secondary bg-primary border-2 border-secondary rounded-lg hover:bg-secondary transition-all duration-200"
        >
          Message
        </button>
      <% end %>
      <button
        class="
          p-2.5 text-secondary hover:text-primary hover:bg-secondary
          rounded-lg transition-all duration-200
        "
      >
        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 16 16">
          <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z" />
          <path
            d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM1.5 8a6.5 6.5 0 1 1 13 0 6.5 6.5 0 0 1-13 0z"
          />
        </svg>
      </button>
    </div>
  </div>

  <!-- Stats -->
  <div class="bg-primary border border-primary rounded-lg p-6">
    <h3 class="font-medium text-primary mb-4">Activity</h3>

    <div class="space-y-4">
      <div class="flex items-center justify-between">
        <span class="text-sm text-secondary">Total repositories</span>
        <span class="text-sm font-medium text-primary"><%= 0 %></span>
      </div>
      <div class="flex items-center justify-between">
        <span class="text-sm text-secondary">Public repositories</span>
        <span class="text-sm font-medium text-primary"><%= 0 %></span>
      </div>
    </div>

    <div class="mt-6">
      <div class="flex items-center justify-between mb-2">
        <span class="text-sm text-secondary">Joined</span>
        <span class="text-sm text-primary"><%= namespace.created_at.strftime("%b %Y") %></span>
      </div>
    </div>
  </div>
</div>

<!-- Navigation -->

<nav class="border-b border-primary mb-6">
  <div class="flex gap-8">
    <button
      class="
        py-3 px-1 text-sm font-medium text-primary border-b-2
        border-stone-800 dark:border-stone-200
      "
    >
      Repositories
      <span class="ml-2 bg-subtle text-primary text-xs px-2 py-1 rounded-full">
        <%= 0 %>
      </span>
    </button>
  </div>
</nav>
